{% extends "bootstrap/base.html" %} {% block title %}Found Cases{% endblock
%} {% block content %}
<div class="container">
    <div class="flex-box">
        <div class="menu">
            <a href="/query" class="btn btn-primary"><span class="glyphicon glyphicon-chevron-left"></span> Try Another Query</a>
            <a href="/" class="btn btn-primary"><span class="glyphicon glyphicon-home"></span> Home</a>
        </div>
        <div id="google_translate_element"></div>
    </div>
    <script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
    <script type="text/javascript">
        function googleTranslateElementInit() {
            new google.translate.TranslateElement({pageLanguage: 'en'}, 'google_translate_element');
        }
    </script>
    <style>
        .flex-box {
            display: flex;
            justify-content: space-between;
            margin-top: 10px;
        }
    </style>

    <h1 class="page-header">{{ _('View Found Cases') }}</h1>

    <div id="result-container">
        <table id="result-list" class="display" style="width:100%">

            <thead class="thead-light">
                <tr>
                    <th>Case No.</th>
                    <th>Service</th>
                    <th>Country</th>
                    <th>Open Date</th>
                    <th>Close Date</th>
                    <th>Status</th>
                    <th>Details</th>
                </tr>

            </thead>

            <tbody>
                {% for case in all_found_cases %}
                <tr>
                    <td>{{ case['case_number'].split(" ")[2] }}</td>
                    <td>{{ case['service'] }}</td>
                    <td>{{ case['country'] }}</td>
                    <td>{{ case['open_date'] }}</td>

                    {% if not case['close_date'] %}
                    <td></td>
                    {% else %}
                    <td>{{ case['close_date'] }}</td>
                    {% endif %}

                    {% if case['is_closed'] %}
                    <td>Closed</td>
                    {% else %}
                    <td>Open</td>
                    {% endif %}

                    <td><a href="{{ '/allcases/' + case['case_number'].split(' ')[2] }}">View</a></td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    {% block scripts %}
    {{super()}}
    <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/1.10.22/js/jquery.dataTables.min.js"></script>
    <script type="text/javascript">
        $(document).ready(function() {
            $('#result-list').DataTable();
        });
    </script>
    {% endblock %}

    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.22/css/jquery.dataTables.min.css">
    <style>
        #result-container {
            display: flex;
            justify-content: center;
        }
    </style>
</div>
{% endblock %}
